[pytest]
# 基础配置
addopts = -v --tb=short --color=yes

# 测试覆盖率配置
cov = src/
cov-report = term-missing:skip-covered
cov-config = .coveragerc
cov-fail-under = 60

# 测试收集配置
testpaths = tests/
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 测试顺序配置
# 按照模块名、类名、函数名的字母顺序运行测试
order = name

# 测试标记配置
markers =
    dialog: 对话功能相关测试
    intent: 意图识别相关测试
    history: 对话历史相关测试
    feedback: 反馈相关测试
    entity: 实体识别相关测试
    sentiment: 情感分析相关测试
    tfidf: TF-IDF相关测试
    slow: 慢测试，需要较长时间运行
    fast: 快速测试，运行时间短

# 忽略的目录
norecursedirs = .git .venv __pycache__ data models checkpoints results

# 禁用插件
disable_warnings = 
    ignore::DeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning
